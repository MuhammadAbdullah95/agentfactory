Research the PreToolUse hooks for semantic memory injection pattern described in this tweet:

"If you have semantic memory tied to your UserPromptSubmit hooks, you MUST ALSO include it in your PreToolUse hook. It will be an absolute GAME CHANGER.

The problem with relying strictly on the UserPromptSubmit hook for semantic memory injection is the workflow drift from your original prompt. The memories it injects at the initiation of your prompt will be less and less relevant to the workflow the longer the workflow is. 

Claude has a beautiful thing called thinking blocks. These blocks are ripe for the picking - filled with meaning & intent - which is perfect for cosine similarity recall. Claude thinks to itself, 'hmm, okay I'm going to do this because of this', then starts to engage the tool of its choice, and BOOM:

PreToolUse hook fires, takes the last 1,500 characters from the most recent thinking block from the active transcript, embeds it, pulls relevant memories from your vector database, and injects them to claude right before it starts using its tool (hooks are synchronous). This all happens in less than 500 milliseconds. 

The result? A self correcting Claude workflow."

Research:
1. How Claude Code hooks work with thinking blocks
2. How to access the active transcript from hooks
3. Vector database integration patterns for semantic memory
4. How to implement mid-workflow memory injection
5. Deduplication strategies (temp log to prevent multiple injections for same thinking block)

Search for implementations, code examples, and community discussions on this pattern.
