Write Lesson 4: Bash Scripting for Agent Automation

**CRITICAL EXECUTION RULES**:
- Output file: /mnt/g/voice_learning/book_project/apps/learn-app/docs/02-Applied-General-Agent-Workflows/10-linux-mastery/04-bash-scripting-agent-automation.md
- Execute autonomously - DO NOT ask "Should I proceed?"
- DO NOT create new directories - use the path exactly as specified
- Write the file directly after gathering context

**Content Requirements**:

YAML Frontmatter (COMPLETE):
```yaml
---
sidebar_position: 4
chapter: 10
lesson: 4
title: "Bash Scripting for Agent Automation"
description: "Automate agent setup, execution, and maintenance with executable bash scripts that chain commands, handle errors, and run on schedules"
keywords: ["bash scripting", "shell scripts", "automation", "error handling", "cron jobs", "text processing"]
duration_minutes: 75

# HIDDEN SKILLS METADATA
skills:
  - name: "Executable Script Creation"
    proficiency_level: "B1"
    category: "Technical"
    bloom_level: "Apply"
    digcomp_area: "Digital Content Creation"
    measurable_at_this_level: "Student can create executable .sh scripts with shebang and permissions"

  - name: "Bash Variables and Interpolation"
    proficiency_level: "B1"
    category: "Technical"
    bloom_level: "Apply"
    digcomp_area: "Digital Content Creation"
    measurable_at_this_level: "Student can use variables, string interpolation, and command substitution"

  - name: "Error Handling and Exit Codes"
    proficiency_level: "B1"
    category: "Technical"
    bloom_level: "Apply"
    digcomp_area: "Digital Content Creation"
    measurable_at_this_level: "Student can implement error handling with set -euo pipefail and conditional checks"

  - name: "Text Processing with grep/sed/awk"
    proficiency_level: "B1"
    category: "Technical"
    bloom_level: "Apply"
    digcomp_area: "Digital Content Creation"
    measurable_at_this_level: "Student can parse logs using grep, sed, and awk"

  - name: "Command Chaining with Pipes"
    proficiency_level: "B1"
    category: "Technical"
    bloom_level: "Apply"
    digcomp_area: "Digital Content Creation"
    measurable_at_this_level: "Student can chain commands using pipes (|) and redirection (>, >>)"

learning_objectives:
  - objective: "Write executable bash scripts that automate agent setup, execution, and maintenance"
    proficiency_level: "B1"
    bloom_level: "Apply"
    assessment_method: "Student writes script that installs deps, configures agent, starts service with error handling"

  - objective: "Use grep, sed, and awk for log parsing and text processing"
    proficiency_level: "B1"
    bloom_level: "Apply"
    assessment_method: "Student extracts specific data patterns from log files without manual scrolling"

  - objective: "Implement error handling and conditional logic in scripts"
    proficiency_level: "B1"
    bloom_level: "Apply"
    assessment_method: "Student adds set -euo pipefail, if/else checks, and meaningful error messages"

cognitive_load:
  new_concepts: 8
  concepts_list:
    - "Shebang and executable permissions (chmod +x)"
    - "Bash variables and string interpolation"
    - "Command substitution $(command)"
    - "Exit codes and error handling"
    - "Conditional statements (if/else)"
    - "Loops (for, while)"
    - "Functions with parameters"
    - "Pipes and redirection (|, >, >>)"
  assessment: "8 concepts (within B1 limit of 7-10) ✓"

teaching_approach: "Collaborative debugging with AI (Write → Fail → AI Helps → Fix → Understand)"
modality: "Collaborative Debugging"

# Generation metadata
generated_by: "content-implementer v1.0.0"
created: "2026-02-08"
version: "1.0.0"
---
```

**Lesson Structure**:
1. Compelling narrative opening: "Automation is Core to the Digital FTE Concept"
2. Recap: Manual commands from previous lessons
3. Core bash scripting concepts with hands-on activities
4. **THREE ROLES DEMONSTRATIONS** (REQUIRED for Layer 2):
   - AI as Teacher: Suggests error handling pattern using set -euo pipefail
   - AI as Student: Student specifies deployment constraints (Python version, directory structure), AI adapts script
   - AI as Co-Worker: Iterate on deployment script (add logging → add validation → add rollback)
5. 3 "Try With AI" prompts with "What you're learning:" explanations
6. Safety warning: ⚠️ Test scripts in non-production environment first

**Three Roles Requirements**:
- NO meta-commentary like "AI as Teacher" or "Part 2:"
- Make the framework INVISIBLE
- Each role should feel like natural collaboration
- Student experiences AI teaching them, them teaching AI, and working together

**Agent Scenario**: Automate deployment of FastAPI agent server with all dependencies

**Reference Lesson**: /mnt/g/voice_learning/book_project/apps/learn-app/docs/02-Applied-General-Agent-Workflows/10-version-control/03-testing-ai-safely-with-branches.md for Three Roles style

**Existing Chapter Voice**: Match the voice from /mnt/g/voice_learning/book_project/apps/learn-app/docs/02-Applied-General-Agent-Workflows/10-linux-mastery/01-cli-architect-mindset.md and 02-modern-terminal-environment.md

Return ONLY: "✅ Wrote [path] ([N] lines)"
