# Token Metering API Configuration

# Database (PostgreSQL with asyncpg)
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/metering

# Redis (Required for token metering)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# Authentication (SSO)
SSO_URL=http://localhost:3001

# Development Mode
DEV_MODE=true
DEV_USER_ID=dev-user-123

# Server
PORT=8001
LOG_LEVEL=INFO
DEBUG=false

# CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Metering Configuration
TRIAL_LIMIT=5              # Free requests for new users (lifetime, not resetting)
MARKUP_PERCENT=20.0        # 20% markup on all LLM costs
RESERVATION_TTL=600        # 10 minutes - handles long agent runs
FAIL_OPEN=true             # Allow requests when Redis is down
